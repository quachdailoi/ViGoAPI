[2022-07-14 16:40:16.568 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:40:16.831 +07:00  INF]  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
REVOKE CONNECT ON DATABASE "MaaSDB" FROM PUBLIC;
SELECT pg_terminate_backend(pg_stat_activity.pid) FROM pg_stat_activity WHERE datname = 'MaaSDB';
[2022-07-14 16:40:16.853 +07:00  INF]  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "MaaSDB";
[2022-07-14 16:40:34.184 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:41:09.715 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:41:10.048 +07:00  INF]  Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MaaSDB";
[2022-07-14 16:41:10.177 +07:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
[2022-07-14 16:41:10.205 +07:00  INF]  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
[2022-07-14 16:41:10.209 +07:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2022-07-14 16:41:10.221 +07:00  INF]  Applying migration '20220714094034_InitialDB'.
[2022-07-14 16:41:10.266 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE roles (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    description character varying(100) NOT NULL,
    name character varying(20) NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_roles" PRIMARY KEY (id)
);
[2022-07-14 16:41:10.272 +07:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE users (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    code uuid NOT NULL,
    name character varying(50) NOT NULL,
    gender integer NOT NULL,
    status integer NOT NULL,
    date_of_birth timestamp with time zone NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_users" PRIMARY KEY (id)
);
[2022-07-14 16:41:10.280 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE accounts (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    user_id integer NOT NULL,
    registration character varying(30) NOT NULL,
    registration_type integer NOT NULL,
    verified boolean NOT NULL DEFAULT FALSE,
    role_id integer NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_accounts" PRIMARY KEY (id),
    CONSTRAINT "FK_accounts_roles_role_id" FOREIGN KEY (role_id) REFERENCES roles (id) ON DELETE CASCADE,
    CONSTRAINT "FK_accounts_users_user_id" FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
);
[2022-07-14 16:41:10.285 +07:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE verified_codes (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    account_id integer NOT NULL,
    expired_time timestamp with time zone NOT NULL,
    code character varying(10) NOT NULL,
    registration_type integer NOT NULL,
    status boolean NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_verified_codes" PRIMARY KEY (id),
    CONSTRAINT "FK_verified_codes_accounts_account_id" FOREIGN KEY (account_id) REFERENCES accounts (id) ON DELETE CASCADE
);
[2022-07-14 16:41:10.287 +07:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO roles (id, created_at, created_by, deleted_at, description, name, updated_at, updated_by)
VALUES (1, TIMESTAMPTZ '2022-07-14 09:40:34.226244Z', 0, NULL, 'Role for driver', 'DRIVER', TIMESTAMPTZ '2022-07-14 09:40:34.226245Z', 0);
INSERT INTO roles (id, created_at, created_by, deleted_at, description, name, updated_at, updated_by)
VALUES (2, TIMESTAMPTZ '2022-07-14 09:40:34.226246Z', 0, NULL, 'Role for booker', 'BOOKER', TIMESTAMPTZ '2022-07-14 09:40:34.226246Z', 0);
[2022-07-14 16:41:10.288 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO users (id, code, created_at, created_by, date_of_birth, deleted_at, gender, name, status, updated_at, updated_by)
VALUES (1, '308e2ea1-aa2e-4eb8-a2bc-ac9df882d173', TIMESTAMPTZ '2022-07-14 09:40:34.226247Z', 0, TIMESTAMPTZ '2022-07-14 09:40:34.22625Z', NULL, 1, 'Quach Dai Loi', 1, TIMESTAMPTZ '2022-07-14 09:40:34.226247Z', 0);
[2022-07-14 16:41:10.290 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO accounts (id, created_at, created_by, deleted_at, registration, registration_type, role_id, updated_at, updated_by, user_id, verified)
VALUES (1, TIMESTAMPTZ '2022-07-14 09:40:34.226251Z', 0, NULL, 'loiqdse140970@fpt.edu.vn', 0, 1, TIMESTAMPTZ '2022-07-14 09:40:34.226251Z', 0, 1, TRUE);
[2022-07-14 16:41:10.293 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_accounts_registration_role_id" ON accounts (registration, role_id);
[2022-07-14 16:41:10.296 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_accounts_role_id" ON accounts (role_id);
[2022-07-14 16:41:10.299 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_accounts_user_id" ON accounts (user_id);
[2022-07-14 16:41:10.302 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_roles_description" ON roles (description);
[2022-07-14 16:41:10.305 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_verified_codes_account_id" ON verified_codes (account_id);
[2022-07-14 16:41:10.308 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('roles', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM roles) + 1,
        nextval(pg_get_serial_sequence('roles', 'id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('users', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM users) + 1,
        nextval(pg_get_serial_sequence('users', 'id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('accounts', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM accounts) + 1,
        nextval(pg_get_serial_sequence('accounts', 'id'))),
    false);
[2022-07-14 16:41:10.310 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220714094034_InitialDB', '6.0.6');
[2022-07-14 16:41:48.122 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:41:48.360 +07:00  INF]  Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
REVOKE CONNECT ON DATABASE "MaaSDB" FROM PUBLIC;
SELECT pg_terminate_backend(pg_stat_activity.pid) FROM pg_stat_activity WHERE datname = 'MaaSDB';
[2022-07-14 16:41:48.380 +07:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "MaaSDB";
[2022-07-14 16:41:57.044 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:42:05.013 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:42:05.345 +07:00  INF]  Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MaaSDB";
[2022-07-14 16:42:05.474 +07:00  INF]  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
[2022-07-14 16:42:05.502 +07:00  INF]  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
[2022-07-14 16:42:05.505 +07:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2022-07-14 16:42:05.517 +07:00  INF]  Applying migration '20220714094157_InitialDB'.
[2022-07-14 16:42:05.564 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE roles (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    description character varying(100) NOT NULL,
    name character varying(20) NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_roles" PRIMARY KEY (id)
);
[2022-07-14 16:42:05.570 +07:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE users (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    code uuid NOT NULL,
    name character varying(50) NOT NULL,
    gender integer NOT NULL,
    status integer NOT NULL,
    date_of_birth timestamp with time zone NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_users" PRIMARY KEY (id)
);
[2022-07-14 16:42:05.577 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE accounts (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    user_id integer NOT NULL,
    registration character varying(30) NULL,
    registration_type integer NOT NULL,
    verified boolean NOT NULL DEFAULT FALSE,
    role_id integer NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_accounts" PRIMARY KEY (id),
    CONSTRAINT "FK_accounts_roles_role_id" FOREIGN KEY (role_id) REFERENCES roles (id) ON DELETE CASCADE,
    CONSTRAINT "FK_accounts_users_user_id" FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
);
[2022-07-14 16:42:05.583 +07:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE verified_codes (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    account_id integer NOT NULL,
    expired_time timestamp with time zone NOT NULL,
    code character varying(10) NOT NULL,
    registration_type integer NOT NULL,
    status boolean NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_verified_codes" PRIMARY KEY (id),
    CONSTRAINT "FK_verified_codes_accounts_account_id" FOREIGN KEY (account_id) REFERENCES accounts (id) ON DELETE CASCADE
);
[2022-07-14 16:42:05.586 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO roles (id, created_at, created_by, deleted_at, description, name, updated_at, updated_by)
VALUES (1, TIMESTAMPTZ '2022-07-14 09:41:57.08257Z', 0, NULL, 'Role for driver', 'DRIVER', TIMESTAMPTZ '2022-07-14 09:41:57.08257Z', 0);
INSERT INTO roles (id, created_at, created_by, deleted_at, description, name, updated_at, updated_by)
VALUES (2, TIMESTAMPTZ '2022-07-14 09:41:57.082571Z', 0, NULL, 'Role for booker', 'BOOKER', TIMESTAMPTZ '2022-07-14 09:41:57.082571Z', 0);
[2022-07-14 16:42:05.587 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO users (id, code, created_at, created_by, date_of_birth, deleted_at, gender, name, status, updated_at, updated_by)
VALUES (1, '5350062d-5911-4f2e-b107-8222872bff57', TIMESTAMPTZ '2022-07-14 09:41:57.082572Z', 0, TIMESTAMPTZ '2022-07-14 09:41:57.082575Z', NULL, 1, 'Quach Dai Loi', 1, TIMESTAMPTZ '2022-07-14 09:41:57.082572Z', 0);
[2022-07-14 16:42:05.588 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO accounts (id, created_at, created_by, deleted_at, registration, registration_type, role_id, updated_at, updated_by, user_id, verified)
VALUES (1, TIMESTAMPTZ '2022-07-14 09:41:57.082576Z', 0, NULL, 'loiqdse140970@fpt.edu.vn', 0, 1, TIMESTAMPTZ '2022-07-14 09:41:57.082576Z', 0, 1, TRUE);
[2022-07-14 16:42:05.592 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_accounts_registration_role_id" ON accounts (registration, role_id);
[2022-07-14 16:42:05.595 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_accounts_role_id" ON accounts (role_id);
[2022-07-14 16:42:05.597 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_accounts_user_id" ON accounts (user_id);
[2022-07-14 16:42:05.600 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_roles_description" ON roles (description);
[2022-07-14 16:42:05.603 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_verified_codes_account_id" ON verified_codes (account_id);
[2022-07-14 16:42:05.606 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('roles', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM roles) + 1,
        nextval(pg_get_serial_sequence('roles', 'id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('users', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM users) + 1,
        nextval(pg_get_serial_sequence('users', 'id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('accounts', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM accounts) + 1,
        nextval(pg_get_serial_sequence('accounts', 'id'))),
    false);
[2022-07-14 16:42:05.607 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220714094157_InitialDB', '6.0.6');
[2022-07-14 16:47:23.655 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:47:23.905 +07:00  INF]  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
REVOKE CONNECT ON DATABASE "MaaSDB" FROM PUBLIC;
SELECT pg_terminate_backend(pg_stat_activity.pid) FROM pg_stat_activity WHERE datname = 'MaaSDB';
[2022-07-14 16:47:23.925 +07:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "MaaSDB";
[2022-07-14 16:48:58.032 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:49:09.136 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 16:49:09.490 +07:00  INF]  Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MaaSDB";
[2022-07-14 16:49:09.621 +07:00  INF]  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
[2022-07-14 16:49:09.650 +07:00  INF]  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
[2022-07-14 16:49:09.653 +07:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2022-07-14 16:49:09.666 +07:00  INF]  Applying migration '20220714094858_InitialDB'.
[2022-07-14 16:49:09.714 +07:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE roles (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    description character varying(100) NOT NULL,
    name character varying(20) NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_roles" PRIMARY KEY (id)
);
[2022-07-14 16:49:09.720 +07:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE users (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    code uuid NOT NULL,
    name character varying(50) NOT NULL,
    gender integer NOT NULL,
    status integer NOT NULL,
    date_of_birth timestamp with time zone NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_users" PRIMARY KEY (id)
);
[2022-07-14 16:49:09.728 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE accounts (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    user_id integer NOT NULL,
    registration character varying(30) NULL,
    registration_type integer NOT NULL,
    verified boolean NOT NULL DEFAULT FALSE,
    role_id integer NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_accounts" PRIMARY KEY (id),
    CONSTRAINT "FK_accounts_roles_role_id" FOREIGN KEY (role_id) REFERENCES roles (id),
    CONSTRAINT "FK_accounts_users_user_id" FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
);
[2022-07-14 16:49:09.734 +07:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE verified_codes (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    account_id integer NOT NULL,
    expired_time timestamp with time zone NOT NULL,
    code character varying(10) NOT NULL,
    registration_type integer NOT NULL,
    status boolean NOT NULL,
    created_at timestamp with time zone NULL,
    created_by integer NOT NULL,
    updated_at timestamp with time zone NULL,
    updated_by integer NOT NULL,
    deleted_at timestamp with time zone NULL,
    CONSTRAINT "PK_verified_codes" PRIMARY KEY (id),
    CONSTRAINT "FK_verified_codes_accounts_account_id" FOREIGN KEY (account_id) REFERENCES accounts (id) ON DELETE CASCADE
);
[2022-07-14 16:49:09.737 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO roles (id, created_at, created_by, deleted_at, description, name, updated_at, updated_by)
VALUES (1, TIMESTAMPTZ '2022-07-14 09:48:58.076185Z', 0, NULL, 'Role for driver', 'DRIVER', TIMESTAMPTZ '2022-07-14 09:48:58.076185Z', 0);
INSERT INTO roles (id, created_at, created_by, deleted_at, description, name, updated_at, updated_by)
VALUES (2, TIMESTAMPTZ '2022-07-14 09:48:58.076186Z', 0, NULL, 'Role for booker', 'BOOKER', TIMESTAMPTZ '2022-07-14 09:48:58.076186Z', 0);
[2022-07-14 16:49:09.738 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO users (id, code, created_at, created_by, date_of_birth, deleted_at, gender, name, status, updated_at, updated_by)
VALUES (1, 'dd3770c9-c759-44de-bc30-0f0c2b688360', TIMESTAMPTZ '2022-07-14 09:48:58.076192Z', 0, TIMESTAMPTZ '2022-07-14 09:48:58.076195Z', NULL, 1, 'Quach Dai Loi', 1, TIMESTAMPTZ '2022-07-14 09:48:58.076192Z', 0);
[2022-07-14 16:49:09.740 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO accounts (id, created_at, created_by, deleted_at, registration, registration_type, role_id, updated_at, updated_by, user_id, verified)
VALUES (1, TIMESTAMPTZ '2022-07-14 09:48:58.076196Z', 0, NULL, 'loiqdse140970@fpt.edu.vn', 0, 1, TIMESTAMPTZ '2022-07-14 09:48:58.076196Z', 0, 1, TRUE);
INSERT INTO accounts (id, created_at, created_by, deleted_at, registration, registration_type, role_id, updated_at, updated_by, user_id, verified)
VALUES (2, TIMESTAMPTZ '2022-07-14 09:48:58.076198Z', 0, NULL, NULL, 0, NULL, TIMESTAMPTZ '2022-07-14 09:48:58.076198Z', 0, 1, TRUE);
[2022-07-14 16:49:09.743 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_accounts_registration_role_id" ON accounts (registration, role_id);
[2022-07-14 16:49:09.746 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_accounts_role_id" ON accounts (role_id);
[2022-07-14 16:49:09.749 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_accounts_user_id" ON accounts (user_id);
[2022-07-14 16:49:09.752 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_roles_description" ON roles (description);
[2022-07-14 16:49:09.755 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_verified_codes_account_id" ON verified_codes (account_id);
[2022-07-14 16:49:09.758 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('roles', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM roles) + 1,
        nextval(pg_get_serial_sequence('roles', 'id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('users', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM users) + 1,
        nextval(pg_get_serial_sequence('users', 'id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('accounts', 'id'),
    GREATEST(
        (SELECT MAX(id) FROM accounts) + 1,
        nextval(pg_get_serial_sequence('accounts', 'id'))),
    false);
[2022-07-14 16:49:09.759 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220714094858_InitialDB', '6.0.6');
[2022-07-14 21:02:40.104 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:02:40.357 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:02:40.357 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:02:40.360 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:02:40.360 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:02:40.360 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:02:41.165 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:02:41.497 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:02:41.499 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 337.4901ms
[2022-07-14 21:02:41.517 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 19.9446ms
[2022-07-14 21:02:41.824 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:02:41.935 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.0397ms
[2022-07-14 21:04:15.920 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:04:15.925 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:04:16.027 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:04:16.054 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:04:18.092 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:04:19.209 +07:00  INF]  Executed DbCommand (83ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:04:19.437 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 3378.3521ms
[2022-07-14 21:04:19.440 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:04:19.443 +07:00  ERR]  An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at API.JwtFeatures.JwtHandler.GetClaims(UserViewModel user) in D:\DotNet_Study\projects\MaaS\API\JwtFeatures\JwtHandler.cs:line 28
   at API.JwtFeatures.JwtHandler.GenerateToken(UserViewModel user) in D:\DotNet_Study\projects\MaaS\API\JwtFeatures\JwtHandler.cs:line 57
   at API.Controllers.Admin.DriversController.LoginByEmail(LoginByEmailRequest request) in D:\DotNet_Study\projects\MaaS\API\Controllers\Admin\DriversController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2022-07-14 21:04:19.518 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 500 - text/plain;+charset=utf-8 3598.1821ms
[2022-07-14 21:05:14.056 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:05:14.248 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:05:14.248 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:05:14.255 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:05:14.255 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:05:14.255 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:05:14.965 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:05:15.449 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 488.9092ms
[2022-07-14 21:05:15.459 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:05:15.468 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 8.7232ms
[2022-07-14 21:05:15.589 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:05:15.684 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 95.0450ms
[2022-07-14 21:05:20.438 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:05:20.444 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:05:20.540 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:05:20.571 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:05:22.121 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:05:23.151 +07:00  INF]  Executed DbCommand (90ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:05:23.388 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:05:23.404 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2827.431ms
[2022-07-14 21:05:23.406 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:05:23.421 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2982.1559ms
[2022-07-14 21:07:39.221 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:07:39.390 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:07:39.390 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:07:39.392 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:07:39.392 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:07:39.393 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:07:39.945 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:07:40.206 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 265.8202ms
[2022-07-14 21:07:40.206 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:07:40.212 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.8429ms
[2022-07-14 21:07:40.312 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:07:40.434 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.4328ms
[2022-07-14 21:07:52.850 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:07:52.854 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:07:52.947 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:07:52.975 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:07:54.545 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:07:55.536 +07:00  INF]  Executed DbCommand (89ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:07:55.744 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:07:55.758 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2777.6713ms
[2022-07-14 21:07:55.759 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:07:55.772 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2921.8081ms
[2022-07-14 21:08:33.540 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:08:33.704 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:08:33.704 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:08:33.706 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:08:33.706 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:08:33.706 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:08:34.195 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:08:34.447 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:08:34.454 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 262.8369ms
[2022-07-14 21:08:34.454 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.2499ms
[2022-07-14 21:08:34.554 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:08:34.679 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.9021ms
[2022-07-14 21:08:38.511 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:08:38.516 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:08:38.576 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:08:38.600 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:08:40.059 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:08:41.033 +07:00  INF]  Executed DbCommand (76ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:08:41.242 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:08:41.255 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2649.7182ms
[2022-07-14 21:08:41.257 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:08:41.269 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2758.9430ms
[2022-07-14 21:08:57.818 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:08:57.990 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:08:57.990 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:08:57.992 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:08:57.992 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:08:57.993 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:08:58.585 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:08:58.846 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:08:58.851 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 269.0527ms
[2022-07-14 21:08:58.853 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.9064ms
[2022-07-14 21:08:58.960 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:08:59.099 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.5690ms
[2022-07-14 21:09:02.993 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:09:02.998 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:09:03.070 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:09:03.100 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:09:04.613 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:09:05.621 +07:00  INF]  Executed DbCommand (76ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:09:05.826 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:09:05.840 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2735.0181ms
[2022-07-14 21:09:05.841 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:09:05.855 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2861.9553ms
[2022-07-14 21:16:04.717 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:16:05.114 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:16:05.114 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:16:05.116 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:16:05.117 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:16:05.117 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:16:05.741 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:16:06.183 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:16:06.184 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 447.2544ms
[2022-07-14 21:16:06.191 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 8.2980ms
[2022-07-14 21:16:06.379 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:16:06.474 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.8577ms
[2022-07-14 21:16:11.420 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:16:11.425 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:16:11.504 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:16:11.542 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:16:13.420 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:16:14.408 +07:00  INF]  Executed DbCommand (91ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:16:14.621 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:16:14.634 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 3087.3297ms
[2022-07-14 21:16:14.635 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:16:14.648 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 3227.4981ms
[2022-07-14 21:16:33.706 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:16:33.865 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:16:33.865 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:16:33.867 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:16:33.867 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:16:33.867 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:16:34.425 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:16:34.756 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 333.6831ms
[2022-07-14 21:16:34.765 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:16:34.771 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.8943ms
[2022-07-14 21:16:34.882 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:16:35.055 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 173.0994ms
[2022-07-14 21:16:40.609 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:16:40.613 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:16:40.693 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:16:40.722 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:16:42.576 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:16:42.815 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2088.3165ms
[2022-07-14 21:16:42.818 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:16:42.821 +07:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Missing map from Domain.Entities.Role to API.Models.UserViewModel. Create using CreateMap<Role, UserViewModel>.
   at AutoMapper.MapperConfiguration.GetIncludedTypeMap(TypePair pair)
   at AutoMapper.MapperConfiguration.AutoMapper.Internal.IGlobalConfiguration.GetIncludedTypeMap(Type sourceType, Type destinationType)
   at AutoMapper.ProfileMap.ApplyMemberMaps(TypeMap currentMap, IGlobalConfiguration configurationProvider)
   at AutoMapper.ProfileMap.Configure(IGlobalConfiguration configurationProvider)
   at AutoMapper.MapperConfiguration.Seal()
   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at API.Controllers.AuthController`1.get_UserService() in D:\DotNet_Study\projects\MaaS\API\Controllers\AuthController.cs:line 15
   at API.Controllers.Admin.DriversController.LoginByEmail(LoginByEmailRequest request) in D:\DotNet_Study\projects\MaaS\API\Controllers\Admin\DriversController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2022-07-14 21:16:42.889 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 500 - text/plain;+charset=utf-8 2280.0465ms
[2022-07-14 21:17:07.098 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:17:07.261 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:17:07.262 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:17:07.264 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:17:07.265 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:17:07.265 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:17:07.769 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:17:08.024 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:17:08.033 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 269.5280ms
[2022-07-14 21:17:08.033 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 7.9792ms
[2022-07-14 21:17:08.149 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:17:08.283 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.7096ms
[2022-07-14 21:17:16.307 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:17:16.314 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:17:16.383 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:17:16.409 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:17:17.843 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:17:18.096 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 1680.5246ms
[2022-07-14 21:17:18.101 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:17:18.103 +07:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Missing map from Domain.Entities.Role to API.Models.UserViewModel. Create using CreateMap<Role, UserViewModel>.
   at AutoMapper.MapperConfiguration.GetIncludedTypeMap(TypePair pair)
   at AutoMapper.MapperConfiguration.AutoMapper.Internal.IGlobalConfiguration.GetIncludedTypeMap(Type sourceType, Type destinationType)
   at AutoMapper.ProfileMap.ApplyMemberMaps(TypeMap currentMap, IGlobalConfiguration configurationProvider)
   at AutoMapper.ProfileMap.Configure(IGlobalConfiguration configurationProvider)
   at AutoMapper.MapperConfiguration.Seal()
   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at API.Controllers.AuthController`1.get_UserService() in D:\DotNet_Study\projects\MaaS\API\Controllers\AuthController.cs:line 15
   at API.Controllers.Admin.DriversController.LoginByEmail(LoginByEmailRequest request) in D:\DotNet_Study\projects\MaaS\API\Controllers\Admin\DriversController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2022-07-14 21:17:18.161 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 500 - text/plain;+charset=utf-8 1853.7845ms
[2022-07-14 21:19:02.383 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:19:02.537 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:19:02.537 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:19:02.540 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:19:02.540 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:19:02.540 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:19:03.069 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:19:03.385 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 320.0767ms
[2022-07-14 21:19:03.419 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:19:03.435 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 15.0601ms
[2022-07-14 21:19:03.533 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:19:03.630 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.3683ms
[2022-07-14 21:19:07.485 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:19:07.491 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:19:07.554 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:19:07.576 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:19:09.105 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:19:10.037 +07:00  INF]  Executed DbCommand (89ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:19:10.281 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:19:10.297 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2715.5506ms
[2022-07-14 21:19:10.299 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:19:10.313 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2828.3887ms
[2022-07-14 21:29:10.148 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:29:10.303 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:29:10.303 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:29:10.305 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:29:10.305 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:29:10.305 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:29:11.050 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:29:11.312 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:29:11.319 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 274.2423ms
[2022-07-14 21:29:11.320 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.6802ms
[2022-07-14 21:29:11.441 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:29:11.561 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.7591ms
[2022-07-14 21:29:15.356 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:29:15.363 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:29:15.431 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:29:15.459 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:29:16.999 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:29:17.987 +07:00  INF]  Executed DbCommand (79ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:29:18.203 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:29:18.219 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2753.4657ms
[2022-07-14 21:29:18.221 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:29:18.237 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2881.2542ms
[2022-07-14 21:41:47.584 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:41:47.785 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:41:47.785 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:41:47.788 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:41:47.788 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:41:47.788 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:41:48.502 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:41:48.798 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:41:48.807 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 7.9952ms
[2022-07-14 21:41:48.807 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 311.1862ms
[2022-07-14 21:41:48.920 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:41:49.055 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.1677ms
[2022-07-14 21:41:52.782 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:41:52.787 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:41:52.863 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:41:52.885 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:41:54.664 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:41:55.600 +07:00  INF]  Executed DbCommand (78ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:41:55.814 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:41:55.830 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2938.9846ms
[2022-07-14 21:41:55.832 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:41:55.848 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 3066.4246ms
[2022-07-14 21:42:25.370 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:42:25.535 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:42:25.535 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:42:25.537 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:42:25.537 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:42:25.537 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:42:26.311 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:42:26.601 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:42:26.604 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 287.4658ms
[2022-07-14 21:42:26.608 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 16.9244ms
[2022-07-14 21:42:26.721 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:42:26.849 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.5806ms
[2022-07-14 21:42:39.548 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:42:39.553 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:42:39.631 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:42:39.659 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:42:41.223 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:42:42.208 +07:00  INF]  Executed DbCommand (89ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:42:42.511 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:42:42.546 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2867.4214ms
[2022-07-14 21:42:42.552 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:42:42.574 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 3026.1175ms
[2022-07-14 21:48:55.917 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:48:56.111 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:48:56.111 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:48:56.114 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:48:56.114 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:48:56.114 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:48:56.457 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:48:56.718 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:48:56.727 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 275.3624ms
[2022-07-14 21:48:56.727 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 7.8035ms
[2022-07-14 21:48:56.838 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:48:57.045 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.3985ms
[2022-07-14 21:49:25.182 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:49:25.354 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:49:25.354 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:49:25.357 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:49:25.357 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:49:25.358 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:49:25.736 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:49:26.028 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:49:26.033 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 299.0829ms
[2022-07-14 21:49:26.034 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.7532ms
[2022-07-14 21:49:26.158 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:49:26.334 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.7245ms
[2022-07-14 21:49:31.748 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:49:31.755 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:49:31.837 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:49:31.865 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:49:33.526 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:49:34.456 +07:00  INF]  Executed DbCommand (78ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:49:34.657 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:49:34.672 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2800.8633ms
[2022-07-14 21:49:34.673 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:49:34.688 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2939.8572ms
[2022-07-14 21:50:36.243 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:50:36.407 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:50:36.407 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:50:36.410 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:50:36.410 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:50:36.410 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:50:36.793 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:50:37.047 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:50:37.054 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.9742ms
[2022-07-14 21:50:37.054 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 266.4431ms
[2022-07-14 21:50:37.171 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:50:37.285 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.9856ms
[2022-07-14 21:50:41.282 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:50:41.288 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:50:41.354 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:50:41.379 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:50:42.816 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:50:43.806 +07:00  INF]  Executed DbCommand (82ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:50:44.015 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:50:44.029 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2645.3467ms
[2022-07-14 21:50:44.031 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:50:44.042 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2760.7318ms
[2022-07-14 21:51:43.605 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 21:51:43.764 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 21:51:43.765 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 21:51:43.767 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 21:51:43.767 +07:00  INF]  Hosting environment: Development
[2022-07-14 21:51:43.767 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 21:51:44.577 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 21:51:44.840 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 21:51:44.847 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 275.0015ms
[2022-07-14 21:51:44.847 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.8748ms
[2022-07-14 21:51:44.956 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 21:51:45.063 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.0646ms
[2022-07-14 21:51:50.284 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 21:51:50.290 +07:00  INF]  CORS policy execution successful.
[2022-07-14 21:51:50.362 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:51:50.390 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 21:51:51.806 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 21:51:52.741 +07:00  INF]  Executed DbCommand (79ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 21:51:52.948 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 21:51:52.963 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2567.4889ms
[2022-07-14 21:51:52.965 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 21:51:52.987 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2702.8048ms
[2022-07-14 22:19:39.533 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 22:19:39.743 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 22:19:39.743 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 22:19:39.745 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 22:19:39.745 +07:00  INF]  Hosting environment: Development
[2022-07-14 22:19:39.745 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 22:19:40.654 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 22:19:40.944 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 22:19:40.953 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 8.0061ms
[2022-07-14 22:19:40.953 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 306.8414ms
[2022-07-14 22:19:41.057 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 22:19:41.175 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.7805ms
[2022-07-14 22:19:53.663 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:19:53.668 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:19:53.734 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:19:53.760 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:19:53.914 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 149.3342ms
[2022-07-14 22:19:53.917 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:19:53.918 +07:00  ERR]  An unhandled exception has occurred while executing the request.
FirebaseAdmin.Auth.FirebaseAuthException: Firebase ID token expired at 1657811032. Expected to be greater than 1657811993.
   at FirebaseAdmin.Auth.Jwt.FirebaseTokenVerifier.VerifyTokenAsync(String token, CancellationToken cancellationToken)
   at FirebaseAdmin.Auth.AbstractFirebaseAuth.VerifyIdTokenAsync(String idToken, Boolean checkRevoked, CancellationToken cancellationToken)
   at FirebaseAdmin.Auth.AbstractFirebaseAuth.VerifyIdTokenAsync(String idToken, CancellationToken cancellationToken)
   at FirebaseAdmin.Auth.AbstractFirebaseAuth.VerifyIdTokenAsync(String idToken)
   at API.Controllers.Admin.DriversController.LoginByEmail(LoginByEmailRequest request) in D:\DotNet_Study\projects\MaaS\API\Controllers\Admin\DriversController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2022-07-14 22:19:53.972 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 500 - text/plain;+charset=utf-8 309.6420ms
[2022-07-14 22:20:28.661 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:20:28.667 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:20:28.668 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:20:28.668 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:20:28.690 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 21.847ms
[2022-07-14 22:20:28.691 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:20:28.691 +07:00  ERR]  An unhandled exception has occurred while executing the request.
FirebaseAdmin.Auth.FirebaseAuthException: Firebase ID token expired at 1657811032. Expected to be greater than 1657812028.
   at FirebaseAdmin.Auth.Jwt.FirebaseTokenVerifier.VerifyTokenAsync(String token, CancellationToken cancellationToken)
   at FirebaseAdmin.Auth.AbstractFirebaseAuth.VerifyIdTokenAsync(String idToken, Boolean checkRevoked, CancellationToken cancellationToken)
   at FirebaseAdmin.Auth.AbstractFirebaseAuth.VerifyIdTokenAsync(String idToken, CancellationToken cancellationToken)
   at FirebaseAdmin.Auth.AbstractFirebaseAuth.VerifyIdTokenAsync(String idToken)
   at API.Controllers.Admin.DriversController.LoginByEmail(LoginByEmailRequest request) in D:\DotNet_Study\projects\MaaS\API\Controllers\Admin\DriversController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2022-07-14 22:20:28.693 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 500 - text/plain;+charset=utf-8 32.7612ms
[2022-07-14 22:20:55.840 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:20:55.847 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:20:55.849 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:20:55.849 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:20:57.324 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 22:20:58.342 +07:00  INF]  Executed DbCommand (83ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 22:20:58.563 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 22:20:58.573 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2723.7375ms
[2022-07-14 22:20:58.574 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:20:58.586 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2746.0447ms
[2022-07-14 22:45:17.162 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 22:45:17.451 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 22:45:17.451 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 22:45:17.455 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 22:45:17.455 +07:00  INF]  Hosting environment: Development
[2022-07-14 22:45:17.455 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 22:45:18.283 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 22:45:18.647 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 22:45:18.654 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 377.6013ms
[2022-07-14 22:45:18.654 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.9131ms
[2022-07-14 22:45:18.831 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 22:45:18.960 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.1677ms
[2022-07-14 22:45:30.691 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:45:30.696 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:45:30.755 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:45:30.778 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:45:32.256 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 22:45:33.214 +07:00  INF]  Executed DbCommand (88ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 22:45:33.419 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 22:45:33.433 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2650.215ms
[2022-07-14 22:45:33.435 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:45:33.447 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2756.0426ms
[2022-07-14 22:47:49.901 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 22:47:50.066 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 22:47:50.066 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 22:47:50.068 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 22:47:50.068 +07:00  INF]  Hosting environment: Development
[2022-07-14 22:47:50.068 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 22:47:50.852 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 22:47:51.160 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 22:47:51.167 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.4505ms
[2022-07-14 22:47:51.167 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 320.9369ms
[2022-07-14 22:47:51.278 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 22:47:51.411 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.1194ms
[2022-07-14 22:48:08.942 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:48:08.948 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:48:09.023 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:48:09.048 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:48:10.644 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 22:48:11.968 +07:00  INF]  Executed DbCommand (96ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 22:48:12.201 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 22:48:12.217 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 3163.2806ms
[2022-07-14 22:48:12.218 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:48:12.232 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 3290.2209ms
[2022-07-14 22:48:48.370 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 22:48:48.531 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 22:48:48.531 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 22:48:48.533 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 22:48:48.533 +07:00  INF]  Hosting environment: Development
[2022-07-14 22:48:48.533 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 22:48:49.216 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 22:48:49.481 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 22:48:49.487 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 273.4733ms
[2022-07-14 22:48:49.488 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.3962ms
[2022-07-14 22:48:49.635 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 22:48:49.760 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.7034ms
[2022-07-14 22:48:57.914 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:48:57.922 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:48:58.020 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:48:58.050 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:48:59.618 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 22:49:00.557 +07:00  INF]  Executed DbCommand (83ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 22:49:00.758 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 22:49:00.772 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2716.1732ms
[2022-07-14 22:49:00.773 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:49:00.785 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2870.8733ms
[2022-07-14 22:50:45.625 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 22:50:45.830 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 22:50:45.831 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 22:50:45.833 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 22:50:45.833 +07:00  INF]  Hosting environment: Development
[2022-07-14 22:50:45.833 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 22:50:46.669 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 22:50:46.985 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 22:50:46.993 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 329.3451ms
[2022-07-14 22:50:46.993 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.9238ms
[2022-07-14 22:50:47.103 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 22:50:47.210 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.5404ms
[2022-07-14 22:50:57.273 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:50:57.278 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:50:57.344 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:50:57.371 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:50:58.973 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 22:52:51.060 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 22:52:51.218 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 22:52:51.218 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 22:52:51.220 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 22:52:51.220 +07:00  INF]  Hosting environment: Development
[2022-07-14 22:52:51.220 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 22:52:51.800 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 22:52:52.047 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 22:52:52.053 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 258.6559ms
[2022-07-14 22:52:52.053 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.6455ms
[2022-07-14 22:52:52.177 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 22:52:52.277 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.9738ms
[2022-07-14 22:53:01.935 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 22:53:01.942 +07:00  INF]  CORS policy execution successful.
[2022-07-14 22:53:02.007 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 22:53:02.034 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 22:53:03.540 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 23:14:07.723 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 23:14:07.970 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 23:14:07.970 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 23:14:07.972 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 23:14:07.972 +07:00  INF]  Hosting environment: Development
[2022-07-14 23:14:07.972 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 23:14:08.533 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 23:14:08.978 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 450.3393ms
[2022-07-14 23:14:09.005 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 23:14:09.011 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 5.3327ms
[2022-07-14 23:14:09.202 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 23:14:09.369 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.6532ms
[2022-07-14 23:14:17.362 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 23:14:17.369 +07:00  INF]  CORS policy execution successful.
[2022-07-14 23:14:17.466 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 23:14:17.498 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 23:14:19.266 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 23:14:38.270 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 23:14:38.483 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 23:14:38.483 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 23:14:38.485 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 23:14:38.485 +07:00  INF]  Hosting environment: Development
[2022-07-14 23:14:38.485 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 23:14:38.966 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 23:14:39.293 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 23:14:39.302 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 7.4826ms
[2022-07-14 23:14:39.302 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 340.4800ms
[2022-07-14 23:14:39.433 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 23:14:39.573 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.1029ms
[2022-07-14 23:14:45.362 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 23:14:45.368 +07:00  INF]  CORS policy execution successful.
[2022-07-14 23:14:45.454 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 23:14:45.480 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 23:14:47.051 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 23:14:48.061 +07:00  INF]  Executed DbCommand (81ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 23:14:48.293 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 23:14:48.311 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2824.8012ms
[2022-07-14 23:14:48.312 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 23:14:48.331 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2968.9969ms
[2022-07-14 23:20:35.732 +07:00  INF]  User profile is available. Using 'C:\Users\quach\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2022-07-14 23:20:36.016 +07:00  INF]  Now listening on: https://localhost:7019
[2022-07-14 23:20:36.016 +07:00  INF]  Now listening on: http://localhost:5019
[2022-07-14 23:20:36.022 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2022-07-14 23:20:36.023 +07:00  INF]  Hosting environment: Development
[2022-07-14 23:20:36.023 +07:00  INF]  Content root path: D:\DotNet_Study\projects\MaaS\API\
[2022-07-14 23:20:36.911 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/index.html - -
[2022-07-14 23:20:37.358 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - -
[2022-07-14 23:20:37.366 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/_framework/aspnetcore-browser-refresh.js - - - 200 11964 application/javascript;+charset=utf-8 6.9765ms
[2022-07-14 23:20:37.366 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/index.html - - - 200 - text/html;charset=utf-8 462.0600ms
[2022-07-14 23:20:37.529 +07:00  INF]  Request starting HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - -
[2022-07-14 23:20:37.648 +07:00  INF]  Request finished HTTP/2 GET https://localhost:7019/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.7450ms
[2022-07-14 23:20:43.559 +07:00  INF]  Request starting HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195
[2022-07-14 23:20:43.564 +07:00  INF]  CORS policy execution successful.
[2022-07-14 23:20:43.656 +07:00  INF]  Executing endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 23:20:43.683 +07:00  INF]  Route matched with {action = "LoginByEmail", controller = "Drivers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByEmail(API.Models.Requests.LoginByEmailRequest) on controller API.Controllers.Admin.DriversController (API).
[2022-07-14 23:20:45.300 +07:00  INF]  Entity Framework Core 6.0.6 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.5+9d79af6e2586d5d28da253ac075706a5575a1743' with options: MaxPoolSize=1024 
[2022-07-14 23:20:46.262 +07:00  INF]  Executed DbCommand (81ms) [Parameters=[@__roleName_1='?', @__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.created_at, a.created_by, a.deleted_at, a.registration, a.registration_type, a.role_id, a.updated_at, a.updated_by, a.user_id, a.verified
FROM accounts AS a
INNER JOIN (
    SELECT r.id
    FROM roles AS r
    WHERE r.name = @__roleName_1
) AS t ON a.role_id = t.id
WHERE (a.registration = @__email_0) AND (a.registration_type = 0)
LIMIT 1
[2022-07-14 23:20:46.492 +07:00  INF]  Executing JsonResult, writing value of type 'API.Models.Response.Response'.
[2022-07-14 23:20:46.513 +07:00  INF]  Executed action API.Controllers.Admin.DriversController.LoginByEmail (API) in 2822.9548ms
[2022-07-14 23:20:46.515 +07:00  INF]  Executed endpoint 'API.Controllers.Admin.DriversController.LoginByEmail (API)'
[2022-07-14 23:20:46.534 +07:00  INF]  Request finished HTTP/2 POST https://localhost:7019/api/drivers/login-by-email application/json 1195 - 200 - application/json;+charset=utf-8 2975.1286ms
